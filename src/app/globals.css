@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   THEME VARIABLES - ryOS Retro Mac Desktop
   ============================================================================ */

:root {
  --desktop-bg: #c1d5e0;
  --desktop-surface: #f6f6f6;
  --desktop-border: #c0c0c0;
  --desktop-text: #333333;
  --desktop-text-secondary: #808080;
  --desktop-accent: #0066cc;
  --desktop-dock: rgba(245, 245, 247, 0.92);
  --menubar-bg: rgba(241, 241, 241, 0.88);
  --menubar-border: #b8b8b8;
  --window-title-focused: linear-gradient(180deg, #e8e8e8 0%, #d8d8d8 100%);
  --window-title-unfocused: linear-gradient(180deg, #f5f5f5 0%, #ececec 100%);

  /* User-configurable typography (defaults, overridden by SettingsProvider) */
  --user-font-family: "Inter", "SF Pro Display", -apple-system, BlinkMacSystemFont,
    "Segoe UI", Roboto, sans-serif;
  --user-font-size: 14px;
  --user-line-height: 1.6;
}

.dark {
  --desktop-bg: #2a2a2e;
  --desktop-surface: #3a3a3e;
  --desktop-border: #505054;
  --desktop-text: #f0f0f0;
  --desktop-text-secondary: #a0a0a4;
  --desktop-accent: #5ba3ff;
  --desktop-dock: rgba(50, 50, 54, 0.92);
  --menubar-bg: rgba(50, 50, 54, 0.88);
  --menubar-border: #555558;
}

/* ============================================================================
   BASE STYLES
   ============================================================================ */

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-desktop-bg text-desktop-text;
    font-family: "Inter", "SF Pro Display", -apple-system, BlinkMacSystemFont,
      "Segoe UI", Roboto, sans-serif;
    overflow: hidden;
  }

  /* Prevent text selection during drag */
  .select-none * {
    user-select: none;
  }
}

/* ============================================================================
   SCROLLBAR STYLING
   ============================================================================ */

@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--desktop-border) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--desktop-border);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--desktop-text-secondary);
  }
}

/* ============================================================================
   TRAFFIC LIGHT BUTTONS (Modern macOS style)
   ============================================================================ */

.aqua-btn {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 0.5px solid rgba(0, 0, 0, 0.2);
  position: relative;
  cursor: default;
  box-shadow: 0 0.5px 1px rgba(0, 0, 0, 0.1);
  transition: filter 0.1s ease;
}

.aqua-btn:hover {
  filter: brightness(1.08);
}

.aqua-btn:active {
  filter: brightness(0.92);
}

/* Close button (red) */
.aqua-close {
  background: linear-gradient(180deg, #ff8a80 0%, #ff5f57 100%);
}

/* Minimize button (yellow) */
.aqua-minimize {
  background: linear-gradient(180deg, #ffd573 0%, #ffbd2e 100%);
}

/* Zoom/Maximize button (green) */
.aqua-zoom {
  background: linear-gradient(180deg, #69f0ae 0%, #28c940 100%);
}

/* Unfocused state: all buttons become neutral gray */
.aqua-buttons-unfocused .aqua-btn {
  background: #d4d4d4;
  border-color: rgba(0, 0, 0, 0.12);
  box-shadow: none;
}

/* ============================================================================
   WINAMP MARQUEE ANIMATION
   ============================================================================ */

@keyframes winamp-marquee {
  0% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.animate-winamp-marquee {
  animation: winamp-marquee 8s linear infinite;
}

/* ============================================================================
   HIGH CONTRAST MODE
   ============================================================================ */

.high-contrast {
  --desktop-text: #000000;
  --desktop-text-secondary: #333333;
}

.dark.high-contrast {
  --desktop-text: #ffffff;
  --desktop-text-secondary: #cccccc;
}

/* ============================================================================
   SAFE AREA (for mobile notch/home indicator)
   ============================================================================ */

.safe-area-top {
  padding-top: env(safe-area-inset-top, 0px);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* ============================================================================
   FONT LOADING
   ============================================================================ */

@font-face {
  font-family: "Inter";
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url("https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfAZ9hiJ-Ek-_EeA.woff2")
    format("woff2");
}
