@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   THEME VARIABLES - McKenzie OS (Mac OS X 10.3 Panther Aqua)
   ============================================================================ */

:root {
  --desktop-bg: #4A7DC7;
  --desktop-surface: #FFFFFF;
  --desktop-border: #D2D2D7;
  --desktop-text: #1A1A1A;
  --desktop-text-secondary: #6E6E73;
  --desktop-accent: #2F6AE5;
  --desktop-dock: rgba(255,255,255,0.25);
  --menubar-bg: rgba(241,241,241,0.92);
  --menubar-border: #B0B0B0;
  --window-title-focused: linear-gradient(180deg, #E8E8E8 0%, #CFCFCF 45%, #B8B8B8 55%, #C8C8C8 100%);
  --window-title-unfocused: linear-gradient(180deg, #F0F0F0 0%, #E8E8E8 100%);

  /* User-configurable typography (defaults, overridden by SettingsProvider) */
  --user-font-family: "Lucida Grande", "Lucida Sans Unicode", "Helvetica Neue",
    Helvetica, Arial, sans-serif;
  --user-font-size: 13px;
  --user-line-height: 1.5;
}

.dark {
  --desktop-bg: #1E2530;
  --desktop-surface: #2E2E32;
  --desktop-border: #48484A;
  --desktop-text: #F0F0F0;
  --desktop-text-secondary: #98989D;
  --desktop-accent: #5BA3FF;
  --desktop-dock: rgba(40,40,44,0.35);
  --menubar-bg: rgba(40,40,44,0.92);
  --menubar-border: #444448;
}

/* ============================================================================
   BASE STYLES
   ============================================================================ */

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-desktop-bg text-desktop-text;
    font-family: "Lucida Grande", "Lucida Sans Unicode", "Helvetica Neue",
      Helvetica, Arial, sans-serif;
    overflow: hidden;
  }

  /* Prevent text selection during drag */
  .select-none * {
    user-select: none;
  }
}

/* ============================================================================
   SCROLLBAR STYLING (Panther Aqua)
   ============================================================================ */

@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgba(0,0,0,0.18) rgba(0,0,0,0.04);
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: rgba(0,0,0,0.04);
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgba(0,0,0,0.18);
    border-radius: 4px;
    border: 1px solid rgba(0,0,0,0.04);
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgba(0,0,0,0.32);
  }
}

/* ============================================================================
   TRAFFIC LIGHT BUTTONS (Panther Aqua Style)
   ============================================================================ */

.aqua-btn {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  position: relative;
  cursor: default;
  transition: all 0.15s ease;
}

.aqua-btn::after {
  content: "";
  position: absolute;
  top: 1.5px;
  left: 2.5px;
  width: 6px;
  height: 4px;
  border-radius: 50%;
  background: linear-gradient(180deg, rgba(255,255,255,0.55) 0%, rgba(255,255,255,0) 100%);
  pointer-events: none;
}

.aqua-btn:hover {
  filter: brightness(1.1);
  box-shadow: 0 0 4px rgba(0,0,0,0.15);
}

.aqua-btn:active {
  filter: brightness(0.9);
}

/* Close button (red) */
.aqua-close {
  background: linear-gradient(180deg, #FF6458 0%, #FF3B30 100%);
  border: 0.5px solid rgba(180,40,30,0.5);
  box-shadow: 0 0.5px 1px rgba(180,40,30,0.3);
}

/* Minimize button (yellow) */
.aqua-minimize {
  background: linear-gradient(180deg, #FFC130 0%, #FFBD2E 100%);
  border: 0.5px solid rgba(180,140,20,0.5);
  box-shadow: 0 0.5px 1px rgba(180,140,20,0.3);
}

/* Zoom/Maximize button (green) */
.aqua-zoom {
  background: linear-gradient(180deg, #2ACB42 0%, #28C840 100%);
  border: 0.5px solid rgba(20,140,40,0.5);
  box-shadow: 0 0.5px 1px rgba(20,140,40,0.3);
}

/* Unfocused state: all buttons become neutral gray */
.aqua-buttons-unfocused .aqua-btn {
  background: #D4D4D4;
  border-color: rgba(0,0,0,0.12);
  box-shadow: none;
}

.aqua-buttons-unfocused .aqua-btn::after {
  opacity: 0.3;
}

/* ============================================================================
   WINAMP MARQUEE ANIMATION
   ============================================================================ */

@keyframes winamp-marquee {
  0% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.animate-winamp-marquee {
  animation: winamp-marquee 8s linear infinite;
}

/* ============================================================================
   HIGH CONTRAST MODE
   ============================================================================ */

.high-contrast {
  --desktop-text: #000000;
  --desktop-text-secondary: #333333;
}

.dark.high-contrast {
  --desktop-text: #ffffff;
  --desktop-text-secondary: #cccccc;
}

/* ============================================================================
   SAFE AREA (for mobile notch/home indicator)
   ============================================================================ */

.safe-area-top {
  padding-top: env(safe-area-inset-top, 0px);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* ============================================================================
   FONT LOADING
   ============================================================================ */

@font-face {
  font-family: "Inter";
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url("https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfAZ9hiJ-Ek-_EeA.woff2")
    format("woff2");
}
