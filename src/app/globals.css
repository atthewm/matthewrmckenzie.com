@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   THEME VARIABLES
   ============================================================================ */

:root {
  --desktop-bg: #f5f5f7;
  --desktop-surface: #ffffff;
  --desktop-border: #e5e5e7;
  --desktop-text: #1d1d1f;
  --desktop-text-secondary: #86868b;
  --desktop-accent: #0071e3;
  --desktop-dock: rgba(255, 255, 255, 0.7);

  /* User-configurable typography (defaults, overridden by SettingsProvider) */
  --user-font-family: "Inter", "SF Pro Display", -apple-system, BlinkMacSystemFont,
    "Segoe UI", Roboto, sans-serif;
  --user-font-size: 14px;
  --user-line-height: 1.6;
}

.dark {
  --desktop-bg: #1d1d1f;
  --desktop-surface: #2d2d2f;
  --desktop-border: #3d3d3f;
  --desktop-text: #f5f5f7;
  --desktop-text-secondary: #86868b;
  --desktop-accent: #2997ff;
  --desktop-dock: rgba(45, 45, 47, 0.7);
}

/* ============================================================================
   BASE STYLES
   ============================================================================ */

@layer base {
  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-desktop-bg text-desktop-text;
    font-family: "Inter", "SF Pro Display", -apple-system, BlinkMacSystemFont,
      "Segoe UI", Roboto, sans-serif;
    overflow: hidden;
  }

  /* Prevent text selection during drag */
  .select-none * {
    user-select: none;
  }
}

/* ============================================================================
   SCROLLBAR STYLING
   ============================================================================ */

@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: var(--desktop-border) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: var(--desktop-border);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: var(--desktop-text-secondary);
  }
}

/* ============================================================================
   AQUA ERA OS X - TRAFFIC LIGHT BUTTONS
   ============================================================================
   Classic Aqua-style window buttons: red close, yellow minimize, green zoom.
   Each button has a glossy gradient, inner shadow, and subtle border.
   ============================================================================ */

.aqua-btn {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  border: 0.5px solid rgba(0, 0, 0, 0.35);
  position: relative;
  cursor: default;
  box-shadow:
    inset 0 1px 1px rgba(255, 255, 255, 0.5),
    0 0.5px 1px rgba(0, 0, 0, 0.15);
  transition: filter 0.1s ease;
}

.aqua-btn:hover {
  filter: brightness(1.1);
}

.aqua-btn:active {
  filter: brightness(0.9);
}

/* Close button (red) */
.aqua-close {
  background: linear-gradient(
    180deg,
    #ff7f6e 0%,
    #fd4a31 40%,
    #e52a12 60%,
    #f04830 100%
  );
}

/* Minimize button (yellow/amber) */
.aqua-minimize {
  background: linear-gradient(
    180deg,
    #ffd76e 0%,
    #f5c11e 40%,
    #dfaa0c 60%,
    #f0c830 100%
  );
}

/* Zoom/Maximize button (green) */
.aqua-zoom {
  background: linear-gradient(
    180deg,
    #8ee070 0%,
    #52c22a 40%,
    #3da616 60%,
    #5ec040 100%
  );
}

/* Unfocused state: all buttons become gray */
.aqua-buttons-unfocused .aqua-btn {
  background: linear-gradient(
    180deg,
    #d8d8d8 0%,
    #c0c0c0 40%,
    #b0b0b0 60%,
    #c0c0c0 100%
  );
}

/* ============================================================================
   WINAMP MARQUEE ANIMATION
   ============================================================================ */

@keyframes winamp-marquee {
  0% {
    transform: translateX(100%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.animate-winamp-marquee {
  animation: winamp-marquee 8s linear infinite;
}

/* ============================================================================
   HIGH CONTRAST MODE
   ============================================================================ */

.high-contrast {
  --desktop-text: #000000;
  --desktop-text-secondary: #333333;
}

.dark.high-contrast {
  --desktop-text: #ffffff;
  --desktop-text-secondary: #cccccc;
}

/* ============================================================================
   SAFE AREA (for mobile notch/home indicator)
   ============================================================================ */

.safe-area-top {
  padding-top: env(safe-area-inset-top, 0px);
}

.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* ============================================================================
   FONT LOADING
   ============================================================================ */

@font-face {
  font-family: "Inter";
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url("https://fonts.gstatic.com/s/inter/v18/UcCO3FwrK3iLTeHuS_nVMrMxCp50SjIw2boKoduKmMEVuLyfAZ9hiJ-Ek-_EeA.woff2")
    format("woff2");
}
